<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Bootstrap 5 Registration Form Example</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    </head>

    <body>
        {{!-- <div class="container-fluid vh-100" style="margin-top:50px">
            <div class="" style="margin-top:85px">
                <div class="rounded d-flex justify-content-center">
                    <div class="col-md-4 col-sm-12 shadow-lg p-5 bg-light">
                        <div class="text-center">
                            <h3 class="text-primary">Create Account</h3>
                        </div>
                        <div class="p-4">
                            <form action="/signup" method="post">
                                <div class="input-group mb-3">
                                    <span class="input-group-text bg-primary"><i
                                            class="bi bi-person-plus-fill text-white"></i></span>
                                    <input type="text" class="form-control" placeholder="Username" name="Username">
                                </div>
                                <div class="input-group mb-3">
                                    <span class="input-group-text bg-primary"><i
                                            class="bi bi-envelope text-white"></i></span>
                                    <input type="email" class="form-control" placeholder="Email" name="Email">
                                </div>
                                <div class="input-group mb-3">
                                    <span class="input-group-text bg-primary"><i
                                            class="bi bi-key-fill text-white"></i></span>
                                    <input type="password" class="form-control" placeholder="password" name="Password">
                                </div>
                                <div class="d-grid col-12 mx-auto">
                                    <button class="btn btn-primary" type="button"><span></span> Sign up</button>
                                </div>
                                <p class="text-center mt-3">Already have an account?
                                    <span class="text-primary">Sign in</span>
                                </p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div> --}}

     <div class="row">
    <div class="col-md-6 m-auto">
        <div class="container mt-5 pl-5 ">
            <h2 class="text-center">Create new Account</h2>
            {{#if signupErr}}
                  <p class="error text-danger" >{{signupErr}}</p>

              {{/if}} 
            <form action="/signup" method="post">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" class="form-control" onkeyup="validName()" name="Name" id="Name"  placeholder="Enter Name" >
                    <span id="nameerr" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" class="form-control"  onkeyup="validEmail()" name="Email" id="Email"  placeholder="Enter email" >
                     <span id="emailerr" class="text-danger"></span>

                </div>

                <div class="form-group">
                    <label>Mobile Number</label>
                    <input type="text" class="form-control"  onkeyup="validNumber()" name="Number" id="mobilenumber"  placeholder="Enter mobile number">
                    <span id="numerr" class="text-danger"></span>

                </div>

                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control"  onkeyup="validPassowrd()" name="Password" id="Password" placeholder="Enter password" >
                    <span id="passworderr" class="text-danger"></span>

                </div>
              <a href="/login">Already have account?</a>
              <button type="submit" class="btn btn-primary float right" onclick="return validation()">Sign Up</button>
            </form>
        </div>
    </div>
 </div>
<script>
   var errorName = document.getElementById('nameerr')
    var errorEmail = document.getElementById('emailerr')
    var errorNumber = document.getElementById('numerr')
    var errorPassword = document.getElementById('passworderr')
    
    function validName() {
        const name= document.getElementById('Name').value
        if(name == ""){
            errorName.innerHTML = "Name cannot be blank"
            return false
        }
         var regex = /^[a-zA-Z\s]+$/;
        if((regex.test(name) === false)){
            errorName.innerHTML = "Enter a proper name"
            return false
        }
        errorName.innerHTML = null
        return true;
        
        }
    function validNumber(){
         
         const name= document.getElementById('mobilenumber').value
         if(name == ""){
            errorNumber.innerHTML = "Please fill the Mobile Number"
            return false
         }
         var regex = /^[1-9]\d{9}$/;
         if(regex.test(name) === false){
            errorNumber.innerHTML = "Only 10 digit numbers are allowed"
            return false
        }
         if(name.length!=10){
             errorNumber.innerHTML = "Mobile Number must have 10 digits"
             return false
         }
         
         errorNumber.innerHTML = null
        return true

    }

    function validEmail() {
        const name = document.getElementById('Email').value
        if (name == "") {
            errorEmail.innerHTML = "enter you email address"
            return false


        }
        if (!name.match(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/)) {
            errorEmail.innerHTML = 'enter a proper email adress'
            return false
        }

        errorEmail.innerHTML = null
        return true
    }

    function validPassowrd() {
        const name = document.getElementById('Password').value
        if (name == "") {
            errorPassword.innerHTML = "enter a password"
            return false
        }
        if (name.length < 3) {
            errorPassword.innerHTML = "password should be more than two characters"
            return false
        }
        errorPassword.innerHTML = null
        return true
    }


    function validation() {
        if (!validName() || !validEmail() || !validPassowrd() || !validNumber()) {
            return false
        }
        return true
    }
</script>

 
    </body>
</html>