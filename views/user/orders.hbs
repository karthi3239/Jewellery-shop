<style>
  .dropbtn {
  background-color: #D19C97;
  color: black;
  padding: 16px;
  font-size: 16px;
  border: none;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}





.dropdown-content a:hover {background-color: #ddd;}

.dropdown:hover .dropdown-content {display: block;}

.dropdown:hover .dropbtn {background-color: #D19C97;}
</style>





<!-- Page Header Start -->
<div class="container-fluid bg-secondary mb-5">
  <div class="d-flex flex-column align-items-center justify-content-center" style="min-height: 300px">
    <h1 class="font-weight-semi-bold text-uppercase mb-3">Order History</h1>
    <div class="d-inline-flex">
      <p class="m-0"><a href="/">Home</a></p>
      <p class="m-0 px-2">-</p>
      <p class="m-0">Orders</p>
    </div>
  </div>
</div>
<!-- Page Header End -->
<section>
  <div class="container">

    <table class="table" style="margin-top:65px">
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Date</th>
          {{!-- <th scope="col">Address</th>
          <th scope="col">Mobile</th> --}}
          <th scope="col">Amount</th>
          <th scope="col">Payment</th>
          <th scope="col">Status</th>
          <th scope="col">Options</th>
          {{!-- <th scope="col">Image</th> --}}
        </tr>
      </thead>
      <tbody>
        {{#each orders}}
        <tr>
          <th scope="row">{{inc @index}}</th>
          <td>{{this.date}}</td>
          
          {{!-- <td>{{this.deliveryDetails.address}}</td>

          <td>{{this.deliveryDetails.mobile}}</td> --}}


          <td>
            {{#if this.totalAmount.walletAmount}}
              Wallet : {{this.totalAmount.walletAmount}} <br>
              Online : {{this.totalAmount.totalAmount}}
            {{else}}
              {{this.totalAmount}}
            {{/if}}
          </td>
          <td>{{this.paymentMethod}}</td>
          <td>{{this.status}}</td>
          {{!-- <td>
            <a href="/admin/edit-product/{{this._id}}" class="btn btn-primary">View Products</a>
            <a href="/admin/delete-product/{{this._id}}" class="btn btn-danger"
              onclick="return confirm('Are you want to delete {{this.Name}}')">Cancel Order</a>
          </td> --}}
          <td>
            
            
              
            <div class="dropdown">
              <button class="dropbtn">Options</button>
              <div class="dropdown-content">
                {{#if_eq this.status "deleivered"}}
                <a href="/return-order/{{this._id}}" class="btn btn-primary"
              onclick="return confirm('Are you want to return the product')">Return-Item</a>
               {{else if_eq this.status "placed"}}
                 <a href="/cancel-order/{{this._id}}" class="btn btn-primary" 
              onclick="return confirm('Are you want to cancel')">Cancel Order</a>
               {{else if_eq this.status "pending"}}
                 <a href="/cancel-order/{{this._id}}" class="btn btn-primary" 
              onclick="return confirm('Are you want to cancel')">Cancel Order</a>


              {{/if_eq}}
              
           
                
                
              </div>
            </div>
           
          </td>
          <td>
            <a href="/view-order-products/{{this._id}}" class="btn btn-primary">View Products</a>
          </td>
                    <td>
            <a href="/order-details/{{this._id}}" class="btn btn-primary">Order Details</a>
          </td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</section>

<script>
  $("#submit").click(function ()
  alert("hai")
  swal({
    title: "Order Cancellation",
    text: "Your Order will get cancelled",
    icon: "Warning",
    button: "OK"
  });
  )
</script>